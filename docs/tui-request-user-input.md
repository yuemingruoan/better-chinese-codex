# 请求用户输入浮层（TUI）

本文说明用于收集 `RequestUserInputEvent` 的 TUI 浮层。

## 概览

该浮层一次渲染一个问题，并收集：

- 单选项（当存在选项时）。
- 自由备注（始终可用）。

当有选项时，备注按所选项分别存储，且默认选择第一个选项，因此每个选项问题都有答案。如果问题无选项且未填写备注，则回答为 `skipped`。

## 焦点与输入路由

浮层维护一个简单的焦点状态：

- **选项**：上下键移动选择，空格确认选择。
- **备注**：文本输入会编辑当前选项对应的备注。

当焦点在选项时输入文字，会自动切换到备注以降低输入成本。

## 导航

- Enter 进入下一个问题。
- 在最后一个问题按 Enter 会提交所有答案。
- PageUp/PageDown 在问题间切换（当有多个问题时）。
- 在选项选择模式下，Esc 会中断本次流程。
- 当某个选项问题的备注已打开时，Tab 或 Esc 会清空备注并返回选项选择。

## 布局优先级

布局优先保证问题与全部选项可见。随着空间变小，备注区和页脚提示会折叠；在终端高度非常紧张时，备注会退化为单行的 “Notes: ...” 输入。
